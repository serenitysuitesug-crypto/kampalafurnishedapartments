<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Furnished Apartments Uganda</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO -->
  <meta name="description" content="Affordable, cheap, and fully furnished apartments in Kampala. Perfect for short stay getaways, long stay, hotels, motels, lodges, guest houses, Airbnb in Kampala, and more.">
  <meta name="keywords" content="airbnb kampala, airbnb near me, airbnb near kampala, airbnb in kampala, hotel kampala, cheap hotel kampala, affordable apartments kampala, guest house kampala, furnished apartments uganda, short stay get away kampala, long stay kampala">

  <!-- Schema.org markup for Google -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "LocalBusiness",
        "@id": "https://yourdomain.com/#business",
        "name": "Furnished Apartments Uganda",
        "image": "https://yourdomain.com/images/hero.webp",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "Kampala",
          "addressLocality": "Kampala",
          "addressRegion": "Central",
          "addressCountry": "UG"
        },
        "geo": {
          "@type": "GeoCoordinates",
          "latitude": 0.3136,
          "longitude": 32.5811
        },
        "telephone": "+256778663411",
        "openingHours": "Mo-Su 00:00-23:59",
        "priceRange": "$$",
        "url": "https://yourdomain.com"
      },
      {
        "@type": "WebSite",
        "@id": "https://yourdomain.com/#website",
        "url": "https://yourdomain.com",
        "name": "Furnished Apartments Uganda",
        "description": "Fully furnished apartments in Kampala for short and long stays",
        "publisher": {
          "@id": "https://yourdomain.com/#business"
        }
      }
    ]
  }
  </script>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">

  <style>
    body {
      background: #f5f6fa;
      font-family: 'Montserrat', sans-serif;
      font-size: 1.08rem;
      scroll-behavior: smooth;
    }
    h1,h2,h3,h4,h5,h6,.navbar-brand,.card-title,.btn,.nav-link {
      font-weight: 700 !important;
      letter-spacing: 0.5px;
    }
    .hero-section {
      position: relative;
      background: url('images/hero.webp') center center no-repeat;
      background-size: cover;
      min-height: 420px;
      margin-bottom: 0;
    }
    .hero-content {
      position: relative;
      z-index: 2;
      padding-top: 5rem; padding-bottom: 4.5rem;
      text-align: center;
    }
    .hero-content h1,
    .hero-content p {
      text-shadow: 2px 2px 6px rgba(0,0,0,0.5);
    }
    .form-availability {
      margin-top: -2.5rem; margin-bottom: 2rem;
      background: #fff; border-radius: .5rem;
      box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.06);
      padding: 1.25rem;
      position: relative; z-index: 3;
    }
    .footer-logo-circle {
      width:60px; height:60px; font-size:1.4rem; font-weight:bold;
      box-shadow:0 2px 8px rgba(0,0,0,0.06);
    }
    .footer-social a { font-size: 1.5rem; margin-right: 10px; color: #fff; }
    .footer-social a:hover { color: #d1ecff; }
    .card { height: 100%; display: flex; flex-direction: column; }
    .card-body { flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
    .card-img-top { height: 250px; object-fit: cover; border-top-left-radius: .5rem; border-top-right-radius: .5rem; }
    .modal-content { border-radius: 20px; overflow: hidden; }
    .swiper-button-next, .swiper-button-prev {
      color: #fff !important; background: rgba(0,0,0,0.4);
      width: 50px; height: 50px; border-radius: 50%;
    }
    .swiper-button-next::after, .swiper-button-prev::after { font-size: 22px; font-weight: bold; }
    .swiper-button-next:hover, .swiper-button-prev:hover { background: rgba(0,0,0,0.6); }
    .modal-body img { max-height: 80vh; width: 100%; object-fit: contain; display: block; }
    
    /* Lazy loading styles */
    img[data-src] {
      opacity: 0;
      transition: opacity 0.3s;
    }
    img.lazyloaded {
      opacity: 1;
    }
  </style>

  <!-- ✅ Google Analytics tag -->
  <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17287370504"></script> <script> window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);} gtag('js', new Date());
    gtag('config', 'AW-17287370504');
  </script>
  <!-- Event snippet for Website traffic conversion page -->
<script>
  gtag('event', 'conversion', {'send_to': 'AW-17287370504/txkQCNKT0J8bEIiuobNA'});
</script>

</head> 
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center fw-bold" href="#">
      <div class="rounded-circle bg-white text-primary d-flex align-items-center justify-content-center" 
           style="width:45px; height:45px; font-size:1.2rem; font-weight:700; box-shadow:0 2px 6px rgba(0,0,0,0.2);">
        FA
      </div>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end align-items-center" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="#apartments">Apartments</a></li>
        <li class="nav-item"><a class="nav-link" href="#form">Book Now</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero -->
<section class="hero-section">
  <div class="container hero-content">
    <h1 class="display-4 fw-bold text-white mb-3">Furnished Apartments Uganda</h1>
    <p class="lead text-white mb-4">Modern, Secure, Fully Furnished Apartments in Kampala</p>
    <a href="tel:+256778663411" 
   class="btn btn-lg fw-bold shadow" 
   style="background-color:#007bff; border:none; color:#fff;">
  <i class="bi bi-telephone-fill"></i> Call Now
    </a>
  </div>
</section>

<!-- Booking + Filter Form -->
<div class="container form-availability shadow" id="form">
  <form class="row g-2 align-items-end justify-content-center">
    <div class="col-lg-3 col-md-4">
      <label for="checkin" class="form-label mb-1">Check-in</label>
      <input type="date" class="form-control" id="checkin">
    </div>
    <div class="col-lg-3 col-md-4">
      <label for="checkout" class="form-label mb-1">Check-out</label>
      <input type="date" class="form-control" id="checkout">
    </div>
    <div class="col-lg-3 col-md-4">
      <label for="filter-size" class="form-label mb-1">Apartment Type</label>
      <select id="filter-size" class="form-select">
        <option value="">All Types</option>
      </select>
    </div>
    <div class="col-lg-3 col-md-4">
      <label for="filter-location" class="form-label mb-1">Location</label>
      <select id="filter-location" class="form-select">
        <option value="">All Locations</option>
      </select>
    </div>
    <div class="col-lg-2 col-md-4 d-grid">
      <button type="button" onclick="sendWhatsApp()" class="btn btn-success fw-bold">
        <i class="bi bi-whatsapp"></i> Check Availability
      </button>
    </div>
  </form>
</div>

<!-- Apartments -->
<div class="container pb-5" id="apartments">
  <h2 class="mb-4 mt-2 fw-bold">Featured Apartments</h2>
  <div class="row" id="apartment-list">
    <!-- Apartments will load here dynamically -->
  </div>
</div>

<!-- Footer -->
<footer class="bg-primary text-white mt-5">
  <div class="container py-4 d-flex flex-column flex-md-row align-items-center justify-content-between">
    <div class="d-flex align-items-center mb-3 mb-md-0">
      <div class="rounded-circle bg-white text-primary d-flex align-items-center justify-content-center me-3 footer-logo-circle">FA</div>
      <div>
        <div style="font-size:1rem; font-weight:600;">Furnished Apartments</div>
        <div style="font-size:0.9rem;">Kampala, Uganda</div>
      </div>
    </div>
    <div class="text-center text-md-end">
      <div style="font-size:1.08rem; font-weight:500;" class="mb-2">
        <i class="bi bi-telephone-fill"></i> Tel/WhatsApp:
        <a href="https://wa.me/256780228391" target="_blank" class="text-white text-decoration-underline fw-bold">+256 780 228391</a>,
        <a href="https://wa.me/256704229100" target="_blank" class="text-white text-decoration-underline fw-bold">+256 704 229100</a>
      </div>
      <div class="footer-social mb-2">
        <a href="https://www.facebook.com/" target="_blank"><i class="bi bi-facebook"></i></a>
        <a href="https://www.instagram.com/" target="_blank"><i class="bi bi-instagram"></i></a>
        <a href="https://wa.me/256704229100" target="_blank"><i class="bi bi-whatsapp"></i></a>
      </div>
      <div class="mt-1" style="font-size:0.97rem;">
        <span class="opacity-75"><i class="bi bi-shield-check"></i> Secure bookings – Proudly Ugandan</span>
      </div>
    </div>
  </div>
  <div class="text-center text-white-50 py-2" style="background:rgba(0,0,0,0.08); font-size:0.96rem;">
    &copy; <span id="copyright-year"></span> Furnished Apartments. All rights reserved.
  </div>
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script>
  let apartmentsData = [];

  // Helper function to create URL slugs
  function createSlug(title) {
    return title.toLowerCase()
      .replace(/[^\w\s-]/g, '')
      .replace(/\s+/g, '-')
      .replace(/-+/g, '-');
  }

  function renderApartments(list) {
    let container = document.getElementById('apartment-list');
    container.innerHTML = '';

    list.forEach((apt, index) => {
      let servicesList = apt.services.map(s => `<li>✅ ${s}</li>`).join('');
      let slug = createSlug(apt.title);
      
      let card = `
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <a href="/apartments/${slug}.html">
              <img src="${apt.image}" class="card-img-top" alt="${apt.title}" data-bs-toggle="modal" data-bs-target="#aptModal${index}">
            </a>
            <div class="card-body text-center">
              <h5 class="card-title fw-bold">
                <a href="/apartments/${slug}.html" class="text-decoration-none text-dark">
                  ${apt.title}
                </a>
              </h5>
              <p>Location: ${apt.location}</p>
              <p>Price: ${apt.price}</p>
              <div class="apartment-services text-start">
                <p class="fw-bold mb-1">Services:</p>
                <ul>${servicesList}</ul>
              </div>
              <a href="javascript:void(0)" onclick="bookApartment('${apt.title}','${apt.location}','${apt.price}')" 
                 class="btn btn-success fw-bold w-100">
                <i class="bi bi-whatsapp"></i> Book on WhatsApp
              </a>
            </div>
          </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="aptModal${index}" tabindex="-1">
          <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-body p-0">
                <div class="swiper swiper${index}">
                  <div class="swiper-wrapper">
                    ${apt.gallery.map(img => `<div class='swiper-slide'><img src='${img}' alt='${apt.title} gallery image'></div>`).join('')}
                  </div>
                  <div class="swiper-button-next swiper-next-${index}"></div>
                  <div class="swiper-button-prev swiper-prev-${index}"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
      container.innerHTML += card;
    });

    // Re-init swipers
    list.forEach((apt, index) => {
      new Swiper(`.swiper${index}`, {
        loop: true,
        navigation: {
          nextEl: `.swiper-next-${index}`,
          prevEl: `.swiper-prev-${index}`
        }
      });
    });
  }

  function filterApartments() {
    let size = document.getElementById('filter-size').value;
    let location = document.getElementById('filter-location').value;

    let filtered = apartmentsData.filter(apt => {
      return (size === "" || apt.title === size) &&
             (location === "" || apt.location === location);
    });

    renderApartments(filtered);
  }

  // ✅ General availability request
  function sendWhatsApp() {
    let checkin = document.getElementById('checkin').value;
    let checkout = document.getElementById('checkout').value;
    let type = document.getElementById('filter-size').value || "Any";
    let location = document.getElementById('filter-location').value || "Any";

    let message = `Hello, I'd like to check availability.%0A
Check-in: ${checkin || "Not specified"}%0A
Check-out: ${checkout || "Not specified"}%0A
Location: ${location}%0A
Apartment Type: ${type}`;

    let phone = "256704229100"; // your WhatsApp number
    let url = `https://wa.me/${phone}?text=${message}`;
    window.open(url, "_blank");
  }

  // ✅ Booking request from specific apartment card
  function bookApartment(title, location, price) {
    let checkin = document.getElementById('checkin').value;
    let checkout = document.getElementById('checkout').value;

    let message = `Hello, I'd like to book this apartment.%0A
Apartment: ${title}%0A
Location: ${location}%0A
Price: ${price}%0A
Check-in: ${checkin || "Not specified"}%0A
Check-out: ${checkout || "Not specified"}`;

    let phone = "256704229100"; // your WhatsApp number
    let url = `https://wa.me/${phone}?text=${message}`;
    window.open(url, "_blank");
  }

  // Fetch data + populate filters
  fetch('data/apartments.json')
    .then(response => response.json())
    .then(apartments => {
      apartmentsData = apartments;

      // Populate location dropdown
      let locations = [...new Set(apartments.map(a => a.location))];
      let locationSelect = document.getElementById('filter-location');
      locations.forEach(loc => {
        let opt = document.createElement("option");
        opt.value = loc;
        opt.textContent = loc;
        locationSelect.appendChild(opt);
      });

      // Populate type dropdown from "title"
      let types = [...new Set(apartments.map(a => a.title))];
      let typeSelect = document.getElementById('filter-size');
      types.forEach(t => {
        let opt = document.createElement("option");
        opt.value = t;
        opt.textContent = t;
        typeSelect.appendChild(opt);
      });

      renderApartments(apartmentsData);
    });

  // Event listeners
  document.getElementById('filter-size').addEventListener('change', filterApartments);
  document.getElementById('filter-location').addEventListener('change', filterApartments);

  // Footer year
  document.getElementById('copyright-year').textContent = new Date().getFullYear();
</script>
</body>
</html>
